# Lab 3. Files & Exceptions

## Задача 1

Напишите функцию `tenet`, которая переписывает все строчки заданного файла задом наперёд.
Функция должна принимать на вход путь до файла с текстом и путь до файла, куда надо записывать перевёрнутые строки:
```python
def tenet(input_file: str, output_file: str) -> None:
    pass  # your code here...
```

Примеры работы функции `tenet`:
```bash
>>> tenet(input.txt, output.txt)

input.txt
    I will not bring sheep to class
    I will not bring sheep to class

output.txt
    ssalc ot peehs gnirb ton lliw I
    ssalc ot peehs gnirb ton lliw I


>>> tenet(input.txt, output.txt)

input.txt
    Мокнет Оксана с котёнком

output.txt
    мокнёток с анаскО тенкоМ
```

И ещё пара моментов:

* Если в качестве `input_file` передана директория, работу надо завершить генерацией исключения `ValueError`.
* Если в качестве `output_file` задан такой же файл, как `input_file`, надо заврешить работу функции созданием исключения `ValueError`.

## Задача 2*

Как предыдущая, но надо сделать так, чтобы параметр `output_file` был опциональным:
```python
def tenet(input_file: str, output_file: str = None):
    pass  # your code here...
```

Если при вызове функции `output_file` не задан, то надо создать файл в директории для временных файлов с помощью модуля `tempfile` и записать результат в нём.
Функция `tenet` должна возвращать путь до результирующего файла (как в случае, когда `output_file` задан, так и когда он не задан).


## Задача 3*

Надо оформить код в файле с расширением .py так, чтобы его можно было запускать из командной строки.
Например, если функция `tenet` и код, обрабатывающий аргументы, переданные из командной строки, записаны в файле `solution.py`, то должна быть возможность сделать так:
```bash
$ python solution.py input.txt output.txt
```

## Задача 4*

То же, что и выше, но в начале функции `tenet` надо проверить, что на диске хватает места для записи `output_file`.
Если места недостаточно, надо завершить работу функции исключением `MemoryError`, не приступая к записи.

## Задача 5*

При работе с файлами нет гарантии, что кто-то другой не будет в это же время работать с теми же файлами и как-то их не изменит.
Проверьте, что файл `input_file` не менялся в процессе чтения строк из него.
Если файл изменялся, то файла `output_file` после вызова `tenet` быть не должно, и работу `tenet` надо завершить ошибкой `RuntimeError`.

## Задача 6*

Поддержите случай, когда `output_file` такой же, как `input_file`: исключение кидать не надо, надо именно переписать исходный файл.
