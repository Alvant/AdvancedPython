# Lab 3. Files & Exceptions

[–î–µ–º–æ –Ω–æ—É—Ç–±—É–∫ –ø–æ —Ñ–∞–π–ª–∞–º](./demo/Files.ipynb).
–ü–æ –∑–∞–¥–∞–Ω–∏—é –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—à–∏—Ç—å –ª—é–±—É—é –∏–∑ –ø–µ—Ä–≤—ã—Ö —Ç—Ä—ë—Ö –∑–∞–¥–∞—á.


## –ó–∞–¥–∞—á–∞ 1 (¬´–§–∞–π–ª–æ–≤–∞—è —Å–æ–ª—è–Ω–∫–∞¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É –Ω–∞ –ü–∏—Ç–æ–Ω–µ, –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Å–ª–µ–¥—É—é—â—É—é —Ä–∞–±–æ—Ç—É —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –ø–∞–ø–∫–∞–º–∏.

1. –°–æ–∑–¥–∞—ë—Ç –ø–∞–ø–∫—É `hw3` –≤ –¥–æ–º–∞—à–Ω–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
(–ï—Å–ª–∏ —Ç–∞–∫–∞—è –ø–∞–ø–∫–∞ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, —Ç–æ –æ—à–∏–±–∫–∏ –≤–æ–∑–Ω–∏–∫–∞—Ç—å –Ω–µ –¥–æ–ª–∂–Ω–æ.)
2. –í –ø–∞–ø–∫–µ `hw3` —Å–æ–∑–¥–∞—ë—Ç —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª –∏ —á—Ç–æ-–Ω–∏–±—É–¥—å –≤ –Ω–µ–≥–æ –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Ñ–∞–π–ª —Å –∏–º–µ–Ω–µ–º `file.txt` —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è:
```
Do you believe in Heaven above?
Do you believe in love?
Don't tell a lie, don't be false or untrue
It all comes back to you
```
3. –î–∞–ª–µ–µ, —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–π JSON —Ñ–∞–π–ª –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ `hw3`.
–ù–∞–ø—Ä–∏–º–µ—Ä, [—Ñ–∞–π–ª `file.json` —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è](./demo/data/movies.json):
```
{
    "movies": [
        {
            "name": "–ü–æ–ª–Ω–æ—á—å –≤ –ü–∞—Ä–∏–∂–µ",
            "release_year": 2011,
            "director": "–í—É–¥–∏ –ê–ª–ª–µ–Ω"
        },
        {
            "name": "–ì—Ä–∞–≤–∏—Ç–∏ –§–æ–ª–∑",
            "release_year": 2012,
            "creator": "–ê–ª–µ–∫—Å –•–∏—Ä—à"
        },
        {
            "name": "–û–∫–Ω–æ –≤–æ –¥–≤–æ—Ä",
            "release_year": 1954,
            "director": "–ê–ª—å—Ñ—Ä–µ–¥ –•–∏—á–∫–æ–∫"
        }
    ]
}
```
4. –î–∞–ª–µ–µ, —Å–æ–∑–¥–∞—ë—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–π CSV —Ñ–∞–π–ª –≤ —Ç–æ–π –∂–µ –ø–∞–ø–∫–µ `hw3`.
–ù–∞–ø—Ä–∏–º–µ—Ä, [—Ç–∞–∫–æ–π —Ñ–∞–π–ª `file.csv`](https://en.wikipedia.org/wiki/Oncogenomics#Copy\_number\_mutations):
```
Cancer Type,D-Loop,mRNAs,tRNAs,rRNAs,Nucleotide Position of Deletions,Increase of mtDNA copy #,Decrease of mtDNA copy #
Bladder,1,1,0,1,15642-15662,0,0
Breast,1,1,1,1,8470-13447 and 8482-13459,0,1
Oral,1,1,0,0,8470-13447 and 8482-13459,0,0
```
5. –î–∞–ª–µ–µ, —Å–æ–∑–¥–∞—ë—Ç –≤ –ø–∞–ø–∫–µ `hw3` –µ—â—ë –∫–∞–∫—É—é-–Ω–∏–±—É–¥—å –ø–∞–ø–∫—É.
–ù–∞–ø—Ä–∏–º–µ—Ä, —Å –∏–º–µ–Ω–µ–º `folder`.
6. –í—ã–≤–æ–¥–∏—Ç –Ω–∞ —ç–∫—Ä–∞–Ω –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–∞–ø–∫–µ `hw3`.
–û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –Ω–∞ –¥–∞–Ω–Ω–æ–º —à–∞–≥–µ:
```
file.txt file.json file.csv
```
7. –£–¥–∞–ª—è–µ—Ç –ø–∞–ø–∫—É `hw3` (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ! —Å—Ç–æ–∏—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—É—Ç—å –ø–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —É–¥–∞–ª—è—Ç—å üòÖ)

–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ .json –∏ .csv —Ñ–∞–π–ª–æ–≤ –Ω–∞–¥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–º–∏ Python –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `json` –∏ `csv`)!


## –ó–∞–¥–∞—á–∞ 2 (¬´Custom grep¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äì –∞–Ω–∞–ª–æ–≥ [–ª–∏–Ω—É–∫—Å–æ–≤—Å–∫–æ–π `grep`](https://man7.org/linux/man-pages/man1/grep.1.html).
–û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ —Å—Ç—Ä–æ–∫—É `pattern` –∏ –ø—É—Ç—å –¥–æ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ `file`.
–ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ —Å—Ç—Ä–æ–∫ –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –≤—Å—Ç—Ä–µ—á–∞–µ—Ç—Å—è —É–∫–∞–∑–∞–Ω–Ω–∞—è –ø–æ–¥—Å—Ç—Ä–æ–∫–∞.
```python
from typing import List


def grep(pattern: str, file: str) -> List[str]:
    pass
```

*–†–∞–∑ —ç—Ç–æ –∞–Ω–∞–ª–æ–≥ `grep`, —Ç–æ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π `grep` –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–ª—å–∑—è!*


## –ó–∞–¥–∞—á–∞ 3 (¬´Custom walk¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ —Å–ª–µ–¥—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏—é ‚Äì –∞–Ω–∞–ª–æ–≥ [–ø–∏—Ç–æ–Ω–æ–≤—Å–∫–æ–π `os.walk`](https://docs.python.org/3/library/os.html#os.walk).
–û–Ω–∞ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –ø—É—Ç—å –¥–æ –ø–∞–ø–∫–∏ `top`.
–ò –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∏–∑ –∫–æ—Ä—Ç–µ–∂–µ–π `(root, dirs, files)`, –≥–¥–µ `root` ‚Äî –ø–æ–¥–ø–∞–ø–∫–∞ –ø–∞–ø–∫–∏ `top`, `dirs` ‚Äî —Å–ø–∏—Å–æ–∫ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π –≤ –ø–æ–¥–ø–∞–ø–∫–µ `root`, `files` ‚Äî —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –≤ –ø–æ–¥–ø–∞–ø–∫–µ `root` (—Ç–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –∫–æ—Ä—Ç–µ–∂–µ–π `(root, dirs, files)` –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–æ —Å—Ç–æ–ª—å–∫–æ –∂–µ, —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –ø–∞–ø–æ–∫ –µ—Å—Ç—å –≤ `top`):
```python
from typing import List, Tuple


def walk(top: str) -> List[Tuple]:
    pass
```

*–†–∞–∑ —ç—Ç–æ –∞–Ω–∞–ª–æ–≥ `walk`, —Ç–æ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π `walk` –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–ª—å–∑—è!*


## –ó–∞–¥–∞—á–∞ 4* (¬´Custom rmtree¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é ‚Äì –∞–Ω–∞–ª–æ–≥ [–ø–∏—Ç–æ–Ω–æ–≤—Å–∫–æ–π `shutil.rmtree`](https://docs.python.org/3/library/shutil.html#shutil.rmtree), –∫–æ—Ç–æ—Ä–∞—è —É–¥–∞–ª—è–µ—Ç —Å –¥–∏—Å–∫–∞ –ø–∞–ø–∫—É –ø–æ –ø—É—Ç–∏ `path` (–æ—Å—Ç–æ—Ä–æ–∂–Ω–æ!):
```python
def rmtree(path: str) -> None:
    pass
```

*–†–∞–∑ —ç—Ç–æ –∞–Ω–∞–ª–æ–≥ `rmtree`, —Ç–æ –Ω–∏–∫–∞–∫–æ–π –¥—Ä—É–≥–æ–π `rmtree` –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞—Ç—å –Ω–µ–ª—å–∑—è!*


## –ó–∞–¥–∞—á–∞ 5* (¬´Pluz¬ª)

–ù–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `pluz` –æ—Ç –¥–≤—É—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω–æ–µ —Å–ª–æ–∂–µ–Ω–∏–µ –≤ –ü–∏—Ç–æ–Ω–µ.
–° —Ç–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º, —á—Ç–æ –µ—Å–ª–∏ –µ–π –Ω–∞ –≤—Ö–æ–¥ –ø–æ–¥–∞—Ç—å —á–∏—Å–ª–æ `n` –∏ —Å—Ç—Ä–æ–∫—É `s`, –∫–æ—Ç–æ—Ä–∞—è –º–æ–∂–µ—Ç –±—ã—Ç—å —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤–µ–¥–µ–Ω–∞ –∫ —á–∏—Å–ª–æ–≤–æ–º—É —Ç–∏–ø—É,
—Ç–æ –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ —Ñ—É–Ω–∫—Ü–∏—è `pluz` –¥–æ–ª–∂–Ω–∞ –≤—ã–¥–∞—Ç—å –Ω–µ –æ—à–∏–±–∫—É `TypeError`, –∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ–ø–µ—Ä–∞—Ü–∏–∏ `n + int(s)`.

–ù–∞–ø—Ä–∏–º–µ—Ä:
```bash
>>> def pluz(arg1, arg2):
...     # Implementation of pluz here
>>>
>>> pluz(1, 2)
3
>>> pluz('1', 2)
3
>>> pluz(1, '2')
3
>>> pluz('1', '2')
'12'
>>> pluz([1], [2])
[1, 2]
>>> pluz(1, 'a')
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unsupported operand type(s) for +: 'int' and 'str'
>>> pluz(1, [2])
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unsupported operand type(s) for +: 'int' and 'list'
```


## –ó–∞–¥–∞—á–∞ 6* (¬´Cake¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `eat_cake`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
* –¥–æ 18:00 –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É "cake"
* –ø–æ—Å–ª–µ 18:00 –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏–µ `Exception` —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º "No, no, it's too late! Botay or go bye-bye."

–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```
>>> eat_cake()  # –î–æ 18:00
'cake'
>>> eat_cake()  # –ü–æ—Å–ª–µ 18:00
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
Exception: No, no, it's too late! Botay or go bye-bye.
```


## –ó–∞–¥–∞—á–∞ 7* (¬´Cake 2, or Rules Are Made To Be Broken¬ª)

–ù–∞–ø–∏—à–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é `eat_something_tasty_anyway`, –∫–æ—Ç–æ—Ä–∞—è —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–º –æ–±—Ä–∞–∑–æ–º:
* –≤–Ω—É—Ç—Ä–∏ –≤—ã–∑—ã–≤–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é `eat_cake`
* –µ—Å–ª–∏ –æ—à–∏–±–∫–∏ –Ω–µ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã `eat_cake`
* –≤ —Å–ª—É—á–∞–µ –∂–µ –æ—à–∏–±–∫–∏, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫—É "pizza"
```python
# –§—É–Ω–∫—Ü–∏—è –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π –∑–∞–¥–∞—á–∏
def eat_cake() -> str:
    pass

# –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–∑—ã–≤–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏ eat_cake
def eat_something_tasty_anyway() -> str:
    pass
```
–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:
```
>>> eat_something_tasty_anyway()  # –ö–æ–≥–¥–∞ –º–æ–∂–Ω–æ —Å—ä–µ—Å—Ç—å –ø–∏—Ä–æ–∂–Ω–æ–µ
'cake'
>>> eat_something_tasty_anyway()  # –ö–æ–≥–¥–∞ –ø–∏—Ä–æ–∂–Ω—ã–µ –µ—Å—Ç—å —É–∂–µ –Ω–µ–ª—å–∑—è
'pizza'
```


## P.S.

* JavaScript's "pluz": https://github.com/denysdovhan/wtfjs#funny-math.
