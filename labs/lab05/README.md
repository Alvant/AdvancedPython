# Lab 5. OOP (ООП ("о-о-п"))

[Демо ноутбук](./demo/OOP.ipynb).

По заданию достаточно решить одну любую задачу.
Но при этом надо

> (c) Руководствоваться принципами полиморфизма, наследования и инкапсуляции.


## Задача 1 («Кино»)

*Ситуация*: люди (`Human`) любят смотреть кино (`Movie`), но некоторые фильмы нежелательно смотреть по возрастному ограничению...

Фильм (`Movie`) определяется следующими признаками:
* название (строка)
* режиссёр (строка)
* год выпуска (целое число)
* страна (строка)
* продолжительность в минутах (целое число)
* возрастной рейтинг — минимальный допустимый возраст для просмотра (целое число)

У человека же (`Human`) есть следующие атрибуты:
* имя
* пол
* год рождения

Чтобы понять, можно ли данному человеку `human` смотреть фильм `movie`,
у каждого фильма должен быть метод `is_allowed(human)`,
который возвращает `True` или `False` в зависимости от того,
разрешено или нет человеку смотреть фильм:
```python
movie = Movie(
  name="Dune", director="Denis Villeneuve", year=2021,
  country="USA", duration=155, age_rating=13
)
human = Human(name="Neo", sex="M", year_of_birth=1964)

print(movie.is_allowed(human))  # True
```

Также можно выделить "особого вида фильмы": мультфильмы (`Cartoon`).
Как фильмы, у которых есть ещё один атрибут "техника создания" `technique` (рисованный, пластилиновый, ...).
Среди мульфильмов же отдельно можно выделить ещё аниме (`Anime`) — как рисованные мульфильмы, у которых страной производства всегда является Япония.

Надо реализовать описанные классы `Human`, `Movie`, `Cartoon`, и `Anime`.


## Задача 2 («Салон»)

*Ситуация*: люди (`Human`) приходят в салон красоты, где работают разные специалисты...
 
Будем считать, что человек (`Human`) обладает следующими характеристиками:
* имя (строка)
* возраст (целое число)
* пол (строка; два возможных значения: `"M"` и `"F"`)
* средняя длина волос в сантиметрах (целое число)
* средняя длина ногтей в миллиметрах (целое число)
* цвет ногтей (строка; по умолчанию — бесцветные)

Все сотрудники салона умеют выполнять свою работу `do_job(human)`.
Но работа у всех разная.
Так, в салоне работают следующие специалисты:
* Мастер маникюра: уменьшает длину ногтей на 1 (если можно уменьшить) и красит ногти в случайный цвет (красный, фиолетовый или зелёный)
* Парикмахер: уменьшает длину волос на 1 (если можно уменьшить)
* Барбер: как парикмахер, но стрижёт только мужчин. Если приходит женщина — то бросает исключение `ValueError`.

Например:
```python
neo = Human(
  name="Neo", sex="M", year_of_birth=1964,
  hair_length=10, nail_length=2
)
trinity = Human(
  name="Trinity", sex="F", year_of_birth=1967,
  hair_length=30, nail_length=5
)

manicurist = Manicurist(name="Samara", sex="F", year_of_birth=1992)
barber = Barber(name="Bob", sex="M", year_of_birth=1987)

manicurist.do_job(neo)
# Теперь у Нео ногти длины 1 и, например, фиолетовые

barber.do_job(neo)
# Теперь у Нео волосы длины 9

barber.do_job(trinity)
# А тут программа падает с исключением ValueError...
```

Надо реализовать классы `Human`, `Manicurist`, `Hairdresser`, и `Barber`.


## Задача 3 («Клетка»)

*Задание составлял совсем-не-биолог, поэтому к условию просьба отнестись критически, но с пониманием :)*

*Ситуация*: есть клетки (`Cell`), у клеток есть органеллы (`Organelle`)...

Будем считать, что клетки делятся на прокариотические (`ProkaryoticCell`) и эукариотические (`EukaryoticCell`).
Эукариотические клетки делятся на соматические (`SomaticCell`), гаметы (`GameticCell`) и гоноциты (`GermCell`).

У клеток есть органеллы.
Каждая органелла характеризуется *текстовым описанием*.
Будем рассматривать следующие органеллы (после названия органеллы приведено соответствующее текстовое описание):
* Цитоплазма (`Cytoplasm`) — "Полужидкое содержимое клетки, кроме ядра и вакуоли, ограниченное плазматической мембраной."
* Нуклеоид (`Nucleoid`) — "Зона в цитоплазме прокариотической клетки, в которой находится геномная ДНК и ассоциированные с ней белки."
* Рибосома (`Ribosome`) — "Отвечает за осуществление процесса трансляции; служит для биосинтеза белка на стадии трансляции."
* Митохондрия (`Mitochondrion`) — "Основной функцией является синтез АТФ — универсального носителя энергии; дыхание (поглощение кислорода и выделение углекислого газа) происходит также за счёт энзиматических систем митохондрий."
* Аппарат Гольджи (`GolgiApparatus`) — "Основное предназначение — выведение веществ, синтезированных в эндоплазматическом ретикулуме."
* Ядро (`Nucleus`) — "Содержит молекулы ДНК; в ядре происходит репликация — удвоение молекул ДНК; также в ядре происходит транскрипция — синтез молекул РНК на матрице ДНК; сборка рибосом также происходит в ядре, в специальных образованиях, называемых ядрышками."
* Лизомома (`Lysosome`) — "Содержит литические ферменты, способные расщеплять органические соединения."

У Ядра, помимо текстового описания, должна быть числовая характеристика — *число хромосом*.
Митохондрию, помимо того, что она органелла, будем также считать прокариотической клеткой.

Пусть у прокариотической клетки есть следующие органеллы:
* цитоплазма
* нуклеоид
* рибосомы (список рибосом)

Состав органелл эукариотической клетки примем таким:
* ядро
* цитоплазма
* рибосомы (список рибосом)
* аппарат Гольджи
* лизомомы (список лизосом)
* митохондрии (список митохондрий)

Помимо характеристики в плане состава органелл, каждая эукариотическая клетка способна совершать *некоторое действие*.

Соматические клетки и гоноциты могут *делиться* (`divide`).
При делении соматической клетки (митоз) получается новая клетка с тем же составом, что и исходная (и с тем же числом хромосом в ядре).
При делении гоноцита (мейоз) получается четыре гаметы (каждая с тем же составом органелл, что и клетка-родитель, но с числом хромосом в ядре в два раза меньше).
Гаметы могут вступать в процесс *слияния* (`fertilize`).
В результате слияния получается эукариотическая клетка с составом органелл, как у первой из гамет, и с числом хромосом в ядре, равном сумме чисел хромосом в гаметах.

Надо реализовать описанные классы.

Пример того, как это может работать:
```python
cell = SomaticCell(
  nucleus=Nucleus(num_chromosomes=46),
  cytoplasm=Cytoplasm(),
  ribosomes=[Ribosome(), Ribosome()],
  golgi_apparatus=GolgiApparatus(),
  lysosomes=[Lysosome(), Lysosome(), Lysosome()],
  mitochondria=[Mitochondrion()]
)

print(cell.ribosomes[0].description)  # Отвечает за осуществление процесса трансляции; служит для биосинтеза белка на стадии трансляции.

new_cell1 = cell.divide()

print(new_cell1.nucleus.num_chromosomes)  # 46

germ = GermCell(
  nucleus=Nucleus(num_chromosomes=46),
  cytoplasm=Cytoplasm(), ribosomes=[Ribosome()],
  golgi_apparatus=GolgiApparatus(),
  lysosomes=[Lysosome()], mitochondria=[Mitochondrion(), Mitochondrion()]
)
gameta1, _, _, _ = germ.divide()

print(gameta1.nucleus.num_chromosomes)  # 23

gameta2 = GameticCell(
  nucleus=Nucleus(num_chromosomes=23),
  cytoplasm=Cytoplasm(), ribosomes=[Ribosome()],
  golgi_apparatus=GolgiApparatus(),
  lysosomes=[Lysosome()], mitochondria=[Mitochondrion()]
)
new_cell2 = gameta1.fertilize(gameta2)

print(new_cell2.nucleus.num_chromosomes)  # 46
print(len(new_cell2.mitochondria))  # 2
```


## Задача 4 («Лаба»)

*Ситуация*: в биохимической лаборатории занимаются важными исследованиями,  выдвигают гипотезы, проводят эксперименты по проверке гипотез...

В лаборатории есть несколько работников:
* руководитель (`HeadOfLaboratory`)
* старший научный сотрудник (`SeniorResearcher`)
* научный сотрудник (`Researcher`)
* стажёр (`Trainee`)

Каждый работник обладает такими характеристиками, как имя (`name`), возраст (`age`), пол (`sex`).

Только руководитель лаборатории может *ставить цель исследования*.
Каждый работник умеет *выдвигать гипотезы*.
Научные сотрудники и стажёр могут *ставить эксперименты*.
Причём эксперимент может быть проведён грамотно, так, что его результатам можно доверять.
Но иногда в процессе эксперимента происходят ошибки (из-за чего потом всё приходится переделывать).
Будем считать, что с каждым экспериментатором связана некоторая *вероятность допустить ошибку в процессе эксперимента*.
То есть если у работника большая вероятность ошибиться, то поставленные им эксперименты часто будут неудачные.
И наоборот.
Вероятности допустить ошибку для каждого работника:
* старший научный сотрудник: 0.4
* научный сотрудник: 0.5
* стажёр: 0.7

Надо реализовать описанные классы.

Пример, как это может работать:
```python
head = HeadOfLaboratory(name="лорд Сепулькревий", age=50, sex='m')
senior = SeniorResearcher(name="господин Флэй", age=60, sex='m')
researcher = Researcher(name="Стирпайк", age=17, sex='m')
trainee = Trainee(name="Титус", age=1, sex='m')

print(trainee.age)  # 1

print(head.set_study_goal())  # Исследовать!
print(senior.put_forward_hypothesis())  # Исследования помогают узнавать что-то новое.

print(researcher.conduct_experiment())  # Успех!

print(trainee.conduct_experiment())  # Что-то не то...
print(trainee.conduct_experiment())  # Что-то не то...
print(trainee.conduct_experiment())  # Успех!
```
