# Lab 6. Magic üåàü¶Ñ

–î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ä–µ—à–∏—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É.

## –ó–∞–¥–∞—á–∞ 1 (¬´‚ÄéDict 1.5¬ª‚Äé)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Å–≤–æ–π —Å–ª–æ–≤–∞—Ä—å (–Ω–∞–∑–æ–≤—ë–º –µ–≥–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä, `Dict`).
–¢–æ –µ—Å—Ç—å –æ–Ω –¥–æ–ª–∂–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –≤—Å–µ –º–µ—Ç–æ–¥—ã, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –æ–±—ã—á–Ω–æ–º Python —Å–ª–æ–≤–∞—Ä–µ (–∏ —É –Ω–µ–≥–æ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Ç–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –Ω–∞ —ç–∫—Ä–∞–Ω):
```bash
>>> data = Dict()
>>> 
>>> data['johnny'] = 'depp'
>>> data['margot'] = 'robbie'
>>> 
>>> print(data)
{'johnny': 'depp', 'margot': 'robbie'}
>>> print(len(data))
2
>>> for name, family_name in data.items():
...     print(name, family_name)
...
johnny depp
margot robbie
>>> del data['johnny']
>>> 
>>> print(len(data))
1
>>> 'margot' in data
True
```

–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª–æ–≤–∞—Ä—è —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–ª—é—á–µ–π –∏ –∑–Ω–∞—á–µ–Ω–∏–π.
–ù–∞–ø—Ä–∏–º–µ—Ä
```bash
>>> data = Dict()
>>> data = Dict(color='red', state='aggressive')
>>> 
>>> print(data)
{'color': 'red', 'state': 'aggressive'}
```

–ü–æ–º–∏–º–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ –æ–±—ã—á–Ω–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è, –Ω–∞–¥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–æ–∂–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–æ–≤ —Ç–∏–ø–∞ `Dict` —Å –ø–æ–º–æ—â—å—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ `+`: —Å–ª–æ–≤–∞—Ä—å-—Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–∏–ø–∞ `Dict` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤—Å–µ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ø–µ—Ä–≤–æ–º –∏ –≤—Ç–æ—Ä–æ–º —Å–ª–æ–≤–∞—Ä—è—Ö, –ø—Ä–∏ —ç—Ç–æ–º –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ –æ–±—â–∏–º –∫–ª—é—á–∞–º –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å–æ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∏–∑ –≤—Ç–æ—Ä–æ–≥–æ —Å–ª–æ–≤–∞—Ä—è (—Ç–æ –µ—Å—Ç—å —Å—É—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏ `+` –≤ —Ç–æ–º, —á—Ç–æ –ø—Ä–∏–±–∞–≤–ª—è–µ–º—ã–π —Å–ª–æ–≤–∞—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏ –¥–æ–ø–æ–ª–Ω—è–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –ø–µ—Ä–≤–æ–º —Å–ª–æ–≤–∞—Ä–µ).
–ü—Ä–∏ —ç—Ç–æ–º –≤ –∫–∞—á–µ—Å—Ç–≤–µ –≤—Ç–æ—Ä–æ–≥–æ –æ–ø–µ—Ä–∞–Ω–¥–∞ –º–æ–∂–µ—Ç –≤—ã—Å—Ç—É–ø–∞—Ç—å –∏ –æ–±—ã—á–Ω—ã–π Python —Å–ª–æ–≤–∞—Ä—å.
–ü–æ–º–∏–º–æ —Å–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `+`, –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–ª–æ–∂–∏—Ç—å –¥–≤–∞ –æ–±—ä–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏ –∫–ª–∞—Å—Å–∞ `Dict.add`.
–¢–æ –µ—Å—Ç—å
```bash
>>> data1 = Dict('a'=1)
>>> data2 = Dict('b'=2)
>>>
>>> data1 + data2
{'a': 1, 'b': 2}
>>>
>>> data1 + {'b': 2}
{'a': 1, 'b': 2}
>>>
>>> Dict.add(data1, data2)
{'a': 1, 'b': 2}
```

–¢–∞–∫–∂–µ –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥ –∫–ª–∞—Å—Å–∞ `Dict.from_default`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç –æ–±—ä–µ–∫—Ç –∫–ª–∞—Å—Å–∞ `Dict` –ø–æ –æ–±—ã—á–Ω–æ–º—É —Å–ª–æ–≤–∞—Ä—é:
```bash
>>> Dict.from_default({'time': '1:21', 'doing': 'writing hw'})
{'time': '1:21', 'doing': 'writing hw'}
```

## –ó–∞–¥–∞—á–∞ 2* (¬´‚ÄéSecret Storage¬ª‚Äé)

–ù–∞–ø–∏—à–∏—Ç–µ –∫–ª–∞—Å—Å `Storage`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–∞ –≤—Ö–æ–¥ –∫–∞–∫—É—é-—Ç–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –≤–∏–¥–µ —Å–ª–æ–≤–∞—Ä—è.
–ü—Ä–∏ —ç—Ç–æ–º —É –æ–±—ä–µ–∫—Ç–æ–≤ –∫–ª–∞—Å—Å–∞ `Storage` –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã `_reserve_data` –∏ `_secret_data` ‚Äî —Ç–æ–∂–µ —Å–ª–æ–≤–∞—Ä–∏, —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ.
–ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä –∫–ª–∞—Å—Å–∞ `Storage` –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç —Ç–∞–∫:
```python
from typing import Any, Dict


class Storage:
    def __init__(self, data: Dict[str, Any]):
        self._data = data
        self._reserve_data = {
            "potato": 100,
        }
        self._secret_data = {
            "supplier": "johnny",
        }
```

–ù–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –ø–æ –∫–ª—é—á—É –∫ –æ–±—ä–µ–∫—Ç—É –∫–ª–∞—Å—Å–∞ `Storage`. –ü—Ä–∏ —ç—Ç–æ–º
* –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å –≤ `_data`, —Ç–æ –¥–æ–ª–∂–Ω–æ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ —Å–ª–æ–≤–∞—Ä—è
* –µ—Å–ª–∏ –∫–ª—é—á–∞ –Ω–µ—Ç –≤ `_data`, —Ç–æ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏ –ø–æ–∏—Å–∫ –∫–ª—é—á–∞ –≤ `_reserve_data`, –∏, –µ—Å–ª–∏ –∫–ª—é—á –µ—Å—Ç—å —Ç–∞–º, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ `_reserve_data`
* –µ—Å–ª–∏ –∂–µ –∫–ª—é—á–∞ –Ω–µ—Ç –Ω–∏ –≤ `_data`, –Ω–∏ –≤ `_reserve_data`, —Ç–æ –¥–æ–ª–∂–Ω–∞ –≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å—Å—è –æ—à–∏–±–∫–∞ `KeyError`

–ï—â—ë –Ω–∞–¥–æ —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã –±—ã–ª –∑–∞–∫—Ä—ã—Ç –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ –∫ `_secret_data` ‚Äî –Ω–∞ —Ç–æ –æ–Ω–∞ –∏ "secret" :)
```bash
>>> storage = Storage({'apple': 2})
>>>
>>> storage['apple']
2
>>> storage['potato']
100
>>> storage['supplier']
KeyError
>>> storage._secret_data
AttributeError
```

## –ó–∞–¥–∞—á–∞ 3* (¬´‚Äé–î–µ—Ä–µ–≤–æ + –¥–µ—Ä–µ–≤–æ = –¥–µ—Ä–µ–≤–æ¬ª‚Äé)

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–ª–∞—Å—Å —Ç–∏–ø–∞ [—Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –¥–≤–æ–∏—á–Ω–æ–≥–æ –¥–µ—Ä–µ–≤–∞](https://en.wikipedia.org/wiki/Binary_search_tree) `SortedBinaryTree` (–∏–ª–∏ `BinarySearchTree`), –∫–æ—Ç–æ—Ä—ã–π —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –∫–æ—Ä–Ω—è –∏ –ª–µ–≤–æ–≥–æ –∏ –ø—Ä–∞–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤—å–µ–≤, –∞ –∫–∞–∂–¥—ã–π —É–∑–µ–ª –≤ –¥–µ—Ä–µ–≤–µ ‚Äî —á–∏—Å–ª–æ, –ø—Ä–∏ —ç—Ç–æ–º —á–∏—Å–ª–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —É–ø–æ—Ä—è–¥–æ—á–µ–Ω—ã: –∑–Ω–∞—á–µ–Ω–∏—è –≤ —É–∑–ª–∞—Ö –ª–µ–≤–æ–≥–æ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥—è—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ—Ä–Ω–µ –¥–µ—Ä–µ–≤–∞, –∞ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø—Ä–∞–≤–æ–º –ø–æ–¥–¥–µ—Ä–µ–≤–µ –Ω–µ –º–µ–Ω—å—à–µ –∑–Ω–∞—á–µ–Ω–∏—è –≤ –∫–æ—Ä–Ω–µ.
–î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ —á–∏—Å–ª–æ –≤ –¥–µ—Ä–µ–≤–æ (–ø—Ä–∏ —ç—Ç–æ–º –¥–µ—Ä–µ–≤–æ –¥–æ–ª–∂–Ω–æ –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –¥–≤–æ–∏—á–Ω—ã–º –∏ —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º).
–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –¥–æ–±–∞–≤–∏—Ç—å —á–∏—Å–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ —É–∂–µ –µ—Å—Ç—å –≤ –¥–µ—Ä–µ–≤–µ, –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç (–¥—É–±–ª–∏–∫–∞—Ç—ã –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è).
–î—Ä—É–≥–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤ –¥–≤–æ–∏—á–Ω–æ–º –¥–µ—Ä–µ–≤–µ –ø–æ–∏—Å–∫–∞, —Ä–µ–∞–ª–∏–∑–æ–≤—ã–≤–∞—Ç—å –Ω–µ –Ω–∞–¥–æ.
–ù–æ –Ω–∞–¥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ–ø–µ—Ä–∞—Ü–∏—é —Å–ª–æ–∂–µ–Ω–∏—è –¥–µ—Ä–µ–≤—å–µ–≤ `+`, –≤–æ–∑–≤—Ä–∞—â–∞—é—â—É—é –Ω–æ–≤–æ–µ –¥–µ—Ä–µ–≤–æ, –∫–æ—Ç–æ—Ä–æ–µ
* —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ —Å–∫–ª–∞–¥—ã–≤–∞–µ–º—ã—Ö –¥–µ—Ä–µ–≤—å–µ–≤ (–±–µ–∑ –ø–æ–≤—Ç–æ—Ä–æ–≤ –∑–Ω–∞—á–µ–Ω–∏–π)
* —Å–±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ –ø–æ –≤—ã—Å–æ—Ç–µ

–û—Ñ–æ—Ä–º–∏—Ç–µ —á–∏—Ç–∞–µ–º—ã–π –≤—ã–≤–æ–¥ –¥–µ—Ä–µ–≤–∞ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ JSON).
