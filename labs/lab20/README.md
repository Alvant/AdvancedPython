# Lab 20. Python + SQL

–î–∞–Ω–∞ —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö, –∫–∞–∫ –≤ [–ø—Ä–æ—à–ª–æ–π –ª–∞–±–µ](http://cs.mipt.ru/advanced_python/lessons/lab19.html):

* *Book*(id, author, title, publish_year)
* *Reader*(id, name)
* *Record*(reader_id, book_id, taking_date, returning_date)

–í —Ç–∞–±–ª–∏—á–∫—É *Record* –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π ID.
–ê `reader_id` –∏ `book_id` ‚Äî –≤–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ —Ç–∞–±–ª–∏—Ü—ã *Reader* –∏ *Book* —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ.


## –ó–∞–¥–∞–Ω–∏–µ 1

–û—Å–Ω–æ–≤–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Äî –≤ –ø—Ä–∏–≤–µ–¥–µ–Ω–æ –≤ –∫–æ–Ω—Ü–µ [–ø–æ—Å–ª–µ–¥–Ω–µ–π –ª–∞–±—ã](http://cs.mipt.ru/advanced_python/lessons/lab20.html).

–ò—Å–ø–æ–ª—å–∑—É—è –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —Å –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–∞–Ω—è—Ç–∏—è, –Ω–∞–¥–æ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–ª–∞—Å—Å (–∏–ª–∏ –Ω–∞–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–π) –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –Ω–µ–π.
–î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:

1. –í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –∫–Ω–∏–≥
1. –í—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ —á–∏—Ç–∞—Ç–µ–ª–µ–π
1. –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–∏–≥—É.
1. –î–æ–±–∞–≤–∏—Ç—å —á–∏—Ç–∞—Ç–µ–ª—è.
1. –í—ã–¥–∞—Ç—å –∫–Ω–∏–≥—É —á–∏—Ç–∞—Ç–µ–ª—é
1. –ü—Ä–∏–Ω—è—Ç—å –∫–Ω–∏–≥—É.

–ü–æ –∂–µ–ª–∞–Ω–∏—é –º–æ–∂–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.


## –ó–∞–¥–∞–Ω–∏–µ 2*

–í –∫–∞—á–µ—Å—Ç–≤–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –µ—â—ë –ø–∞—Ä—É –∑–∞–ø—Ä–æ—Å–æ–≤. –ë—É–¥–µ–º —Å—á–∏—Ç–∞—Ç—å, —á—Ç–æ –∑–∞ —ç—Ç–æ –¥–æ–ø–∑–∞–¥–∞–Ω–∏–µ –º–æ–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å –º–∞–∫—Å–∏–º—É–º 2 –±–∞–ª–ª–∞ (–∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã —Ä–∞–≤–Ω–æ—Ü–µ–Ω–Ω—ã).

* –ö—Ç–æ –∏–∑ —á–∏—Ç–∞—Ç–µ–ª–µ–π —á–∞—â–µ –≤—Å–µ–≥–æ –±–µ—Ä—ë—Ç –∫–Ω–∏–≥–∏?
* –ö–∞–∫—É—é –∫–Ω–∏–≥—É —á–∞—â–µ –≤—Å–µ–≥–æ –±–µ—Ä—É—Ç —á–∏—Ç–∞—Ç—å?
* –ö–∞–∫—É—é –∫–Ω–∏–≥—É –≤ —Å—Ä–µ–¥–Ω–µ–º –¥–æ–ª—å—à–µ –≤—Å–µ–≥–æ —á–∏—Ç–∞—é—Ç?
* –ë—ã–ª–æ –ª–∏ —Ç–∞–∫–æ–µ, —á—Ç–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã–π –º–æ–º–µ–Ω—Ç –æ–¥–∏–Ω —á–∏—Ç–∞—Ç–µ–ª—å –∏–º–µ–ª –Ω–∞ —Ä—É–∫–∞—Ö –±–æ–ª—å—à–µ –æ–¥–Ω–æ–π –∫–Ω–∏–≥–∏? –ï—Å–ª–∏ –¥–∞, –Ω–∞–¥–æ –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ –ª—é–¥–µ–π.
* –ë—ã–ª–æ –ª–∏ —Ç–∞–∫, —á—Ç–æ –æ–¥–Ω–∞ –∫–Ω–∏–≥–∞ –±—ã–ª–∞ –Ω–∞ —Ä—É–∫–∞—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ —É –¥–≤—É—Ö –∏ –±–æ–ª–µ–µ —á–∏—Ç–∞—Ç–µ–ª–µ–π? (–ö–Ω–∏–≥–∞ ‚Äî —Ç–æ –µ—Å—Ç—å –∫–Ω–∏–≥–∞ —Å –¥–∞–Ω–Ω—ã–º ID.) –ï—Å–ª–∏ –¥–∞, –Ω–∞–¥–æ –≤—ã–≤–µ—Å—Ç–∏ —Å–ø–∏—Å–æ–∫ —Ç–∞–∫–∏—Ö –∫–Ω–∏–≥. (–ü–æ–Ω—è—Ç–Ω–æ, –≤ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏ –∫–Ω–∏–∂–∫–∞ –Ω–µ –º–æ–≥–ª–∞ "—Ä–∞–∑–¥–≤–æ–∏—Ç—å—Å—è", –Ω–æ, –º–æ–∂–µ—Ç, –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∑–∞–Ω–æ—Å–∏–ª–∏ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è? –ù–∞–ø—Ä–∏–º–µ—Ä, –æ—à–∏–±–ª–∏—Å—å —Å –¥–∞—Ç–æ–π –≤—ã–¥–∞—á–∏ –∏–ª–∏ –ø—Ä–∏—ë–º–∞ –∫–Ω–∏–≥–∏.)
* –ö–∞–∫ –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, —á—Ç–æ–±—ã –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—Ç–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–∏—Ç—É–∞—Ü–∏–∏, –∫–∞–∫ –≤ —Å–ª—É—á–∞–µ –≤—ã—à–µ? (–î–∞, —ç—Ç–æ –Ω–µ –∑–∞–ø—Ä–æ—Å –∫ –ë–î, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞–¥–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å, —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –≤–æ–ø—Ä–æ—Å üôÉ)
* –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –ª—é–¥–µ–π –ø–æ—Å—á–∏—Ç–∞—Ç—å, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –æ–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –æ–¥–∏–Ω –¥–µ–Ω—å.
* –î–ª—è –∫–∞–∂–¥–æ–π –ø–∞—Ä—ã –ª—é–¥–µ–π –æ—Ü–µ–Ω–∏—Ç—å –Ω–µ—Å–ª—É—á–∞–π–Ω–æ—Å—Ç—å –∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ–≥–æ –ø—Ä–∏—Ö–æ–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É. –ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è [PMI](https://en.wikipedia.org/wiki/Pointwise_mutual_information): –ø—É—Å—Ç—å *N* ‚Äî —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –¥–Ω–µ–π —Ä–∞–±–æ—Ç–∞–ª–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞, *N<sub>a</sub>* ‚Äî —á–∏—Å–ª–æ –¥–Ω–µ–π, –∫–æ–≥–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø—Ä–∏—Ö–æ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫ A, *N<sub>b</sub>* ‚Äî —á–∏—Å–ª–æ –¥–Ω–µ–π, –∫–æ–≥–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø—Ä–∏—Ö–æ–¥–∏–ª —á–µ–ª–æ–≤–µ–∫ B, –∞ *N<sub>ab</sub>* ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–Ω–µ–π, –∫–æ–≥–¥–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –∏ A, –∏ B. –¢–æ–≥–¥–∞ –æ—Ü–µ–Ω–∏—Ç—å, —á—Ç–æ –ª—é–¥–∏ A –∏ B –Ω–µ—Å–ª—É—á–∞–π–Ω–æ —Ö–æ–¥—è—Ç –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –≤ –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ –¥–µ–Ω—å, –º–æ–∂–Ω–æ –∫–∞–∫
<p align="center">
    <img src="./images/not_by_accident.svg" title="\frac{NN_{ab}}{N_a N_b}" />
</p>
